{"version":3,"file":"ffc05149-6aba-4f2e-ad43-5f82b32b3c4e.mjs","sources":["../../../src/mastra/tools/make-dir.tool.ts"],"sourcesContent":["import { getSandbox } from \"@/inngest/utils\";\nimport { createTool } from \"@mastra/core/tools\";\nimport { z } from \"zod\";\n\nexport const makeDirTool = createTool({\n  id: \"make-dir\",\n  description:\n    \"Create a new directory and all directories along the way if needed on the specified path.\",\n  inputSchema: z.object({\n    paths: z.array(z.string()).describe(\"The path to make\"),\n    sandboxId: z.string().describe(\"The sandbox ID\"),\n  }),\n  outputSchema: z.object({\n    success: z.boolean(),\n    message: z.string(),\n  }),\n  execute: async ({ context }) => {\n    const { paths, sandboxId } = context;\n    const sandbox = await getSandbox(sandboxId);\n    try {\n      await Promise.all(paths.map((path) => sandbox.files.makeDir(path)));\n      return {\n        success: true,\n        message: `Successfully made directories ${paths.join(\", \")} in sandbox ${sandboxId}.`,\n      };\n    } catch (error: unknown) {\n      return {\n        success: false,\n        message: `Failed to make directories ${paths.join(\", \")} in sandbox ${sandboxId}: ${error instanceof Error ? error.message : String(error)}`,\n      };\n    }\n  },\n});\n"],"names":[],"mappings":";;;;;;AAIO,MAAM,cAAc,UAAA,CAAW;AAAA,EACpC,EAAA,EAAI,UAAA;AAAA,EACJ,WAAA,EACE,2FAAA;AAAA,EACF,WAAA,EAAa,EAAE,MAAA,CAAO;AAAA,IACpB,KAAA,EAAO,EAAE,KAAA,CAAM,CAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,kBAAkB,CAAA;AAAA,IACtD,SAAA,EAAW,CAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gBAAgB;AAAA,GAChD,CAAA;AAAA,EACD,YAAA,EAAc,EAAE,MAAA,CAAO;AAAA,IACrB,OAAA,EAAS,EAAE,OAAA,EAAQ;AAAA,IACnB,OAAA,EAAS,EAAE,MAAA;AAAO,GACnB,CAAA;AAAA,EACD,OAAA,EAAS,OAAO,EAAE,OAAA,EAAQ,KAAM;AAC9B,IAAA,MAAM,EAAE,KAAA,EAAO,SAAA,EAAU,GAAI,OAAA;AAC7B,IAAA,MAAM,OAAA,GAAU,MAAM,UAAA,CAAW,SAAS,CAAA;AAC1C,IAAA,IAAI;AACF,MAAA,MAAM,OAAA,CAAQ,GAAA,CAAI,KAAA,CAAM,GAAA,CAAI,CAAC,IAAA,KAAS,OAAA,CAAQ,KAAA,CAAM,OAAA,CAAQ,IAAI,CAAC,CAAC,CAAA;AAClE,MAAA,OAAO;AAAA,QACL,OAAA,EAAS,IAAA;AAAA,QACT,SAAS,CAAA,8BAAA,EAAiC,KAAA,CAAM,KAAK,IAAI,CAAC,eAAe,SAAS,CAAA,CAAA;AAAA,OACpF;AAAA,IACF,SAAS,KAAA,EAAgB;AACvB,MAAA,OAAO;AAAA,QACL,OAAA,EAAS,KAAA;AAAA,QACT,OAAA,EAAS,CAAA,2BAAA,EAA8B,KAAA,CAAM,IAAA,CAAK,IAAI,CAAC,CAAA,YAAA,EAAe,SAAS,CAAA,EAAA,EAAK,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAAA,OAC5I;AAAA,IACF;AAAA,EACF;AACF,CAAC;;;;"}