{"version":3,"file":"7adf7f4a-4ddd-454a-889e-1ec94e4f7fc3.mjs","sources":["../../../src/mastra/tools/remove-file.tool.ts"],"sourcesContent":["import { getSandbox } from \"@/inngest/utils\";\nimport { createTool } from \"@mastra/core/tools\";\nimport { z } from \"zod\";\n\nexport const removeFileTool = createTool({\n  id: \"remove-file\",\n  description: \"Remove a file or directory.\",\n  inputSchema: z.object({\n    paths: z.array(z.string()).describe(\"Path to a file or directory.\"),\n    sandboxId: z.string().describe(\"The sandbox ID\"),\n  }),\n  outputSchema: z.object({\n    success: z.boolean(),\n    message: z.string(),\n  }),\n  execute: async ({ context }) => {\n    const { paths, sandboxId } = context;\n    const sandbox = await getSandbox(sandboxId);\n    try {\n      await Promise.all(paths.map((path) => sandbox.files.remove(path)));\n      return {\n        success: true,\n        message: `Successfully removed ${paths.length} file or directory in sandbox ${sandboxId}.`,\n      };\n    } catch (error: unknown) {\n      return {\n        success: false,\n        message: `Failed to remove ${paths.length} file or directory in sandbox ${sandboxId}: ${error instanceof Error ? error.message : String(error)}`,\n      };\n    }\n  },\n});\n"],"names":[],"mappings":";;;;;;AAIO,MAAM,iBAAiB,UAAA,CAAW;AAAA,EACvC,EAAA,EAAI,aAAA;AAAA,EACJ,WAAA,EAAa,6BAAA;AAAA,EACb,WAAA,EAAa,EAAE,MAAA,CAAO;AAAA,IACpB,KAAA,EAAO,EAAE,KAAA,CAAM,CAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,8BAA8B,CAAA;AAAA,IAClE,SAAA,EAAW,CAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gBAAgB;AAAA,GAChD,CAAA;AAAA,EACD,YAAA,EAAc,EAAE,MAAA,CAAO;AAAA,IACrB,OAAA,EAAS,EAAE,OAAA,EAAQ;AAAA,IACnB,OAAA,EAAS,EAAE,MAAA;AAAO,GACnB,CAAA;AAAA,EACD,OAAA,EAAS,OAAO,EAAE,OAAA,EAAQ,KAAM;AAC9B,IAAA,MAAM,EAAE,KAAA,EAAO,SAAA,EAAU,GAAI,OAAA;AAC7B,IAAA,MAAM,OAAA,GAAU,MAAM,UAAA,CAAW,SAAS,CAAA;AAC1C,IAAA,IAAI;AACF,MAAA,MAAM,OAAA,CAAQ,GAAA,CAAI,KAAA,CAAM,GAAA,CAAI,CAAC,IAAA,KAAS,OAAA,CAAQ,KAAA,CAAM,MAAA,CAAO,IAAI,CAAC,CAAC,CAAA;AACjE,MAAA,OAAO;AAAA,QACL,OAAA,EAAS,IAAA;AAAA,QACT,OAAA,EAAS,CAAA,qBAAA,EAAwB,KAAA,CAAM,MAAM,iCAAiC,SAAS,CAAA,CAAA;AAAA,OACzF;AAAA,IACF,SAAS,KAAA,EAAgB;AACvB,MAAA,OAAO;AAAA,QACL,OAAA,EAAS,KAAA;AAAA,QACT,OAAA,EAAS,CAAA,iBAAA,EAAoB,KAAA,CAAM,MAAM,CAAA,8BAAA,EAAiC,SAAS,CAAA,EAAA,EAAK,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAAA,OAChJ;AAAA,IACF;AAAA,EACF;AACF,CAAC;;;;"}